{
  "info": {
    "_postman_id": "bunnypops-api-collection",
    "name": "BUNNYPOPS API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "API Collection untuk e-commerce BUNNYPOPS"
  },
  "item": [
    {
      "name": "üì± Authentication",
      "item": [
        {
          "name": "üîπ Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"QWINBEEEEEE\",\n  \"email\": \"queenbi@email.com\",\n  \"password\": \"password\",\n  \"password_confirmation\": \"password\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/register",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "register"]
            },
            "description": "Register new user (role: guest)"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"QWINBEEEEEEE\",\n  \"email\": \"queenb@email.com\",\n  \"password\": \"password\",\n  \"password_confirmation\": \"password\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/register",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "register"]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"message\": \"Registration successful\",\n    \"user\": {\n        \"id\": 4,\n        \"name\": \"QWINBEEEEE\",\n        \"email\": \"queenbi@email.com\",\n        \"role\": \"guest\",\n        \"token\": \"d4e5c6b7a8f9e0d1c2b3a4f5e6d7c8b9a0f1e2d3c4b5a6f7e8d9c0b1a2f3e4d5\"\n    }\n}"
            }
          ]
        },
        {
          "name": "üîπ Login (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@email.com\",\n  \"password\": \"1234\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/login",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "login"]
            },
            "description": "Login sebagai admin"
          }
        },
        {
          "name": "üîπ Login (Guest)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@email.com\",\n  \"password\": \"4321\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/login",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "login"]
            },
            "description": "Login sebagai guest/customer"
          }
        },
        {
          "name": "üîπ Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/logout",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "logout"]
            },
            "description": "Logout user (clear token)"
          }
        },
        {
          "name": "üîπ Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "profile"]
            },
            "description": "Get authenticated user profile"
          }
        }
      ]
    },
    {
      "name": "üõçÔ∏è Products",
      "item": [
        {
          "name": "üîπ Get All Products (Public)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products"]
            },
            "description": "Get all products (no auth required)"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/api/v1/products",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "products"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"data\": [\n        {\n            \"id\": 1,\n            \"name\": \"Bunny Hoodie\",\n            \"price\": 99000,\n            \"stock\": 12,\n            \"description\": \"Soft and warm bunny-themed hoodie\",\n            \"photo\": \"http://localhost:8000/storage/products/hoodie.jpg\",\n            \"formatted_price\": \"Rp 99.000\",\n            \"created_at\": \"2024-01-01 10:00:00\"\n        },\n        {\n            \"id\": 2,\n            \"name\": \"Bunny Plushie\",\n            \"price\": 75000,\n            \"stock\": 25,\n            \"description\": \"Adorable bunny plushie\",\n            \"photo\": \"http://localhost:8000/storage/products/plushie.jpg\",\n            \"formatted_price\": \"Rp 75.000\",\n            \"created_at\": \"2024-01-01 10:00:00\"\n        }\n    ]\n}"
            }
          ]
        },
        {
          "name": "üîπ Get Single Product",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "1"]
            },
            "description": "Get single product by ID"
          }
        },
        {
          "name": "üîπ Create Product (Admin Only)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Bunny Notebook\",\n  \"price\": 35000,\n  \"stock\": 40,\n  \"description\": \"Cute bunny-themed notebook with high-quality pages\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/products",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products"]
            },
            "description": "Create new product (admin only)"
          }
        },
        {
          "name": "üîπ Update Product (Admin Only)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Bunny Hoodie Updated\",\n  \"price\": 120000,\n  \"stock\": 15,\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/products/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "1"]
            },
            "description": "Update product by ID (admin only)"
          }
        },
        {
          "name": "üîπ Delete Product (Admin Only)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/products/3",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "3"]
            },
            "description": "Delete product by ID (admin only)"
          }
        }
      ]
    },
    {
      "name": "üõí Cart (Guest Only)",
      "item": [
        {
          "name": "üîπ Get Cart Items",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/cart",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart"]
            },
            "description": "Get all items in cart (guest only)"
          }
        },
        {
          "name": "üîπ Add to Cart",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"product_id\": 1,\n  \"quantity\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/cart/add",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart", "add"]
            },
            "description": "Add product to cart"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{guest_token}}",
                    "type": "text"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"product_id\": 1,\n  \"quantity\": 2\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/cart/add",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "cart", "add"]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"message\": \"Product added to cart\",\n    \"data\": {\n        \"cart_id\": 1,\n        \"product_id\": 1,\n        \"quantity\": 2,\n        \"subtotal\": 198000,\n        \"product_name\": \"Bunny Hoodie\",\n        \"product_price\": 99000\n    }\n}"
            }
          ]
        },
        {
          "name": "üîπ Update Cart Item Quantity",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 3\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/cart/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart", "1"]
            },
            "description": "Update cart item quantity"
          }
        },
        {
          "name": "üîπ Remove Item from Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/cart/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart", "1"]
            },
            "description": "Remove item from cart by cart ID"
          }
        },
        {
          "name": "üîπ Clear Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/cart",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart"]
            },
            "description": "Clear all items from cart"
          }
        }
      ]
    },
    {
      "name": "üí≥ Checkout & Payment",
      "item": [
        {
          "name": "üîπ Get Payment Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/payment-info",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "payment-info"]
            },
            "description": "Get payment information (QRIS & Virtual Account)"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/api/v1/payment-info",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "payment-info"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"data\": {\n        \"qris_image\": \"http://localhost:8000/storage/qris/bunnypops-qris.png\",\n        \"virtual_account\": \"1234567890\",\n        \"bank_name\": \"BUNNY BANK\",\n        \"account_name\": \"BUNNYPOPS STORE\"\n    }\n}"
            }
          ]
        },
        {
          "name": "üîπ Checkout (Create Transaction)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_method\": \"qris\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/checkout",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "checkout"]
            },
            "description": "Create transaction from cart items"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{guest_token}}",
                    "type": "text"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"payment_method\": \"qris\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/checkout",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "checkout"]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n    \"status\": \"success\",\n    \"message\": \"Checkout completed successfully\",\n    \"data\": {\n        \"transaction_id\": 1,\n        \"invoice_number\": \"INV-20240101-0001\",\n        \"total\": 198000,\n        \"formatted_total\": \"Rp 198.000\",\n        \"payment_method\": \"qris\",\n        \"status\": \"pending\",\n        \"items_count\": 1,\n        \"created_at\": \"2024-01-01 10:00:00\"\n    }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "üìã Transactions",
      "item": [
        {
          "name": "üîπ Get User Transactions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/transactions",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "transactions"]
            },
            "description": "Get all transactions for authenticated user"
          }
        },
        {
          "name": "üîπ Get Transaction Detail",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/transactions/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "transactions", "1"]
            },
            "description": "Get single transaction detail by ID"
          }
        },
        {
          "name": "üîπ Upload Payment Proof",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{guest_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "payment_proof",
                  "type": "file",
                  "src": "/path/to/proof.jpg"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/v1/transactions/1/upload-proof",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "transactions", "1", "upload-proof"]
            },
            "description": "Upload payment proof image for transaction"
          }
        }
      ]
    },
    {
      "name": "‚öôÔ∏è Admin Management",
      "item": [
        {
          "name": "üîπ Create Product (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New Product\",\n  \"price\": 50000,\n  \"stock\": 100,\n  \"description\": \"New product description\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/products",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products"]
            },
            "description": "Create new product (admin only)"
          }
        },
        {
          "name": "üîπ Update Product (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Product Name\",\n  \"price\": 75000,\n  \"stock\": 50,\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/products/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "1"]
            }
          }
        },
        {
          "name": "üîπ Delete Product (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/products/3",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "3"]
            }
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "console.log('Running BUNNYPOPS API Tests');"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "pm.test(\"Status code is 200\", function () {",
          "    pm.response.to.have.status(200);",
          "});",
          "",
          "pm.test(\"Response has success status\", function () {",
          "    var jsonData = pm.response.json();",
          "    pm.expect(jsonData.status).to.eql(\"success\");",
          "});"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "admin_token",
      "value": "",
      "type": "string",
      "description": "Set after login as admin"
    },
    {
      "key": "guest_token",
      "value": "",
      "type": "string",
      "description": "Set after login as guest"
    }
  ],
  "auth": null
}